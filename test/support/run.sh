#!/bin/bash

mix compile

code_paths="-pa /Users/paulschoenfelder/src/github.com/bitwalker/swarm/_build/test/consolidated -pa /Users/paulschoenfelder/src/github.com/bitwalker/swarm/_build/test/lib/swarm/ebin -pa /Users/paulschoenfelder/src/github.com/bitwalker/swarm/_build/test/lib/porcelain/ebin -pa /Users/paulschoenfelder/src/github.com/bitwalker/swarm/_build/test/lib/poison/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/mix/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/logger/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/iex/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/ex_unit/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/elixir/ebin -pa /Users/paulschoenfelder/.exenv/versions/1.3.2/bin/../lib/eex/ebin -pa . -pa /Users/paulschoenfelder/erlang/19.0/lib/kernel-5.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/stdlib-3.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/xmerl-1.3.11/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/wx-1.7/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/typer-0.9.11/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/tools-2.8.4/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/syntax_tools-2.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/ssl-8.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/ssh-4.3/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/snmp-5.2.3/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/sasl-3.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/runtime_tools-1.10/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/reltool-0.7.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/public_key-1.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/percept-0.9/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/parsetools-2.1.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/otp_mibs-1.1.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/os_mon-2.4.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/orber-3.8.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/odbc-2.11.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/observer-2.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/mnesia-4.14/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/megaco-3.18.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/jinterface-1.7/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/inets-6.3/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/ic-4.4.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/hipe-3.15.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/gs-1.6.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/eunit-2.3/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/et-1.6/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/erts-8.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/erl_interface-3.9/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/erl_docgen-0.5/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/eldap-1.2.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/edoc-0.7.19/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/diameter-1.12/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/dialyzer-3.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/debugger-4.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/crypto-3.7/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosTransactions-1.3.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosTime-1.2.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosProperty-1.2.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosNotification-1.2.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosFileTransfer-1.2.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosEventDomain-1.2.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/cosEvent-2.2.1/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/compiler-7.0/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/common_test-1.12.2/ebin -pa /Users/paulschoenfelder/erlang/19.0/lib/asn1-4.0.3/ebin -pa /Users/paulschoenfelder/.mix/archives/hex-0.13.2/hex-0.13.2/ebin -pa /Users/paulschoenfelder/.mix/archives/phoenix_new.ez/phoenix_new/ebin"
erl \
    -connect_all false \
    -hidden \
    -sname "$1" \
    -setcookie swarm_test \
    -config ./test/support/sys.config \
    ${code_paths} \
    -user Elixir.IEx.CLI \
    -extra --no-halt +iex
